<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Select Game</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .games {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-top: 20px;
    }
    .games button {
      padding: 12px;
      font-size: 18px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
      background: #ff4d4d;
      color: #fff;
      transition: 0.3s;
    }
    .games button:hover {
      background: #ff7700;
    }
  </style>
</head>
<body id="gamesBody" class="shared-bg">
  <!-- Top Logo Header -->
  <header class="site-header">
    <img src="WhatsApp Image 2025-09-04 at 14.25.11_70c9b7fd.jpg" alt="Esports Collab Logo" class="logo">
    <h1>eSports.telKLT x IGTC</h1>
  </header>

  <!-- Game Selection -->
  <div class="form-container">
    <h1>Select A Game To Vote Your Favourite Player</h1>
    <p>Welcome, <span id="userName"></span> üëã</p>
    <div class="games">
      <button onclick="selectGame('Free Fire')">Garena Free Fire</button>
      <button onclick="selectGame('BGMI')">BGMI</button>
      <button onclick="selectGame('Call of Duty')">Call of Duty</button>
    </div>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <p>¬© 2023 Esports Collab. All rights reserved.</p>
  </footer>

  <!-- Script -->
  <script>
    // Check login
    const user = JSON.parse(localStorage.getItem("user"));
    if (!user) {
      alert("‚ö†Ô∏è Please login first!");
      window.location.href = "index.html";
    } else {
      document.getElementById("userName").innerText = user.name || "Player";
    }

    // If already selected a game, redirect accordingly
    const alreadySelected = localStorage.getItem("selectedGame");
    if (alreadySelected) {
      if (alreadySelected === "Free Fire") {
        window.location.href = "vote.html";
      } else {
        alert("You already selected " + alreadySelected + " earlier!");
        window.location.href = "index.html";
      }
    }

    // Game selection logic
    function selectGame(game) {
      localStorage.setItem("selectedGame", game);

      if (game === "Free Fire") {
        window.location.href = "vote.html";
      } else {
        alert("Squad Created for " + game + "! No voting required.");
        window.location.href = "index.html";
      }
    }
  </script>
</body>
</html>
